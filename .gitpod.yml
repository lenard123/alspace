# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - init: |
        composer setup
        composer install
        npm install
    env:
       APP_DEBUG: true
       APP_GITPOD: true
       APP_ENV: local
       APP_NAME: Alspace
       DB_CONNECTION: sqlite
       DB_FOREIGN_KEYS: false
       SESSION_DRIVER: database

  - name: Server
    command: |
        composer setup
        touch database/database.sqlite
        php artisan migrate:fresh --seed
        php artisan serve
  - name: Client
    command: |
        gp await-port 8000
        npm run dev

github:
  prebuilds:
    master: false
    pullRequests: false